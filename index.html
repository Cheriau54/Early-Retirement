<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wealth Architect | Early Retirement Tracker</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Global Font Enforcement: Helvetica for all UI elements */
        * {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;
        }
    </style>
</head>
<body>

    <div id="dashboard">
        <header>
            <div class="header-main">
                <h1>Retirement Logic Engine</h1>
                <div class="header-controls">
                    <label for="master-currency">Display Currency:</label>
                    <select id="master-currency" class="curr-list"></select>
                    <button id="save-all-btn" class="save-btn">Sync Portfolio Data</button>
                </div>
            </div>
            <div class="net-worth-card">
                <small>Current Total Net Worth</small>
                <div id="total-net-worth">0 HKD</div>
            </div>
        </header>

        <section class="strategy-row">
            <div class="card audit-full-card">
                <div class="card-header">
                    <h3>Financial Freedom Audit</h3>
                    <div class="header-value-grp">
                        <span class="header-curr-label">HKD</span>
                        <span id="stk-total-pl" class="pl-indicator">0</span>
                    </div>
                </div>
                
                <div class="progress-container" style="position: relative; height: 35px; background: #0b1121; border-radius: 8px; overflow: hidden; border: 1px solid #334155; margin-bottom: 15px;">
                    <div id="progress-bar" style="height: 100%; width: 0%; background: linear-gradient(90deg, #818cf8, #4ade80); transition: width 0.7s ease-in-out;"></div>
                    <span id="progress-text" style="position: absolute; width: 100%; text-align: center; top: 0; left: 0; line-height: 35px; font-weight: 700; color: #ffffff; text-shadow: 1px 1px 4px rgba(0,0,0,1); font-size: 13px;">0% Achieved</span>
                </div>

                <div id="logic-output" class="logic-box-full">
                    </div>
                <button id="calc-btn" class="primary-btn" style="margin-top: 15px;">Recalculate Projections</button>
            </div>

            <div class="card">
                <h3>Asset Allocation</h3>
                <div id="allocation-pie" class="pie-chart" style="background: conic-gradient(#334155 0% 100%);"></div>
                <div style="display: flex; justify-content: center; gap: 15px; font-size: 11px; margin-top: 15px;">
                    <span><i style="color:#818cf8; font-style: normal;">●</i> Liquid</span>
                    <span><i style="color:#c084fc; font-style: normal;">●</i> Fixed</span>
                    <span><i style="color:#4ade80; font-style: normal;">●</i> Equities</span>
                </div>
            </div>
        </section>

        <div class="asset-grid">
            
            <div class="card">
                <div class="card-header">
                    <h3>1. Liquid Assets</h3>
                    <div class="header-value-grp">
                        <span id="acc-liq" class="sec-accum">0</span>
                        <span class="header-curr-label">HKD</span>
                    </div>
                </div>
                <form id="form-liquid">
                    <div style="display: flex; gap: 5px;">
                        <input type="text" id="liq-name" placeholder="Bank Name" required>
                        <input type="number" id="liq-amount" placeholder="Amount" step="any" required>
                        <select id="liq-curr" class="curr-list"></select>
                        <button type="submit" class="add-btn">Add</button>
                    </div>
                </form>
                <div class="scroll-area">
                    <table id="table-liquid">
                        <thead>
                            <tr><th>Name</th><th>Balance</th><th>Base Value</th><th>Actions</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>2. Fixed Savings</h3>
                    <div class="header-value-grp">
                        <span id="acc-fix" class="sec-accum">0</span>
                        <span class="header-curr-label">HKD</span>
                    </div>
                </div>
                <form id="form-fixed">
                    <div style="display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 5px; margin-bottom: 5px;">
                        <input type="text" id="fix-name" placeholder="Fixed Deposit Name" required>
                        <input type="number" id="fix-amount" placeholder="Principal" step="any" required>
                        <select id="fix-curr" class="curr-list"></select>
                    </div>
                    <div style="display: flex; gap: 5px;">
                        <input type="number" id="fix-rate" placeholder="Rate %" step="0.01" required>
                        <input type="number" id="fix-duration" placeholder="Months" required>
                        <input type="date" id="fix-start" required>
                        <button type="submit" class="add-btn">Add</button>
                    </div>
                </form>
                <div class="scroll-area">
                    <table id="table-fixed">
                        <thead>
                            <tr><th>Bank</th><th>Rate</th><th>Expiry</th><th>Interest</th><th>Total</th><th>Actions</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>3. Equities (USD)</h3>
                    <div class="header-value-grp">
                        <span id="acc-stk" class="sec-accum">0</span>
                        <span class="header-curr-label">HKD</span>
                    </div>
                </div>
                <form id="form-stocks">
                    <div style="display: flex; gap: 5px;">
                        <input type="text" id="stk-ticker" placeholder="Ticker (NVDA)" required>
                        <input type="number" id="stk-qty" placeholder="Qty" step="any" required>
                        <input type="number" id="stk-buy" placeholder="Avg Buy $" step="any" required>
                        <button type="submit" class="add-btn">Add</button>
                    </div>
                </form>
                <div class="scroll-area">
                    <table id="table-stocks">
                        <thead>
                            <tr><th>Ticker</th><th>Qty</th><th>Avg Price</th><th>Live Price</th><th>P/L</th><th>Actions</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3>4. Liabilities</h3>
                    <div class="header-value-grp">
                        <span id="acc-debt" class="sec-accum">0</span>
                        <span class="header-curr-label">HKD</span>
                    </div>
                </div>
                <form id="form-debt">
                    <div style="display: flex; gap: 5px;">
                        <input type="text" id="debt-name" placeholder="Debt/Loan Name" required>
                        <input type="number" id="debt-amount" placeholder="Owed" step="any" required>
                        <select id="debt-curr" class="curr-list"></select>
                        <button type="submit" class="add-btn">Add</button>
                    </div>
                </form>
                <div class="scroll-area">
                    <table id="table-debt">
                        <thead>
                            <tr><th>Name</th><th>Owed</th><th>Base Value</th><th>Actions</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <section class="card" style="height: auto; margin-bottom: 50px;">
            <h3>Master Planning Parameters</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 15px;">
                <div class="input-grp">
                    <label>Target Financial Goal</label>
                    <div style="display:flex; gap:5px;">
                        <input type="number" id="target-goal">
                        <select id="goal-curr" class="curr-list"></select>
                    </div>
                </div>
                <div class="input-grp">
                    <label>Investment Horizon (Years)</label>
                    <input type="number" id="years-to-goal">
                </div>
                <div class="input-grp">
                    <label>Expected Annual Inflation (%)</label>
                    <input type="number" id="inflation-rate" step="0.1">
                </div>
                <div class="input-grp">
                    <label>Projected Market Growth (%)</label>
                    <input type="number" id="stock-growth" step="0.1">
                </div>
                <div class="input-grp">
                    <label>Recurring Income</label>
                    <div style="display:flex; gap:5px;">
                        <input type="number" id="income-val">
                        <select id="income-freq">
                            <option value="monthly">Monthly</option>
                            <option value="annual">Annual</option>
                        </select>
                    </div>
                </div>
                <div class="input-grp">
                    <label>Income Currency</label>
                    <select id="income-curr" class="curr-list"></select>
                </div>
            </div>
        </section>
    </div>

    <div id="edit-modal" class="modal-overlay">
        <div class="modal-content">
            <h2 style="margin-top:0; font-weight: 700;">Update Record</h2>
            <form id="form-edit-modal">
                <div id="modal-fields" class="modal-body">
                    </div>
                <div class="modal-footer">
                    <button type="button" class="btn-cancel" onclick="closeModal()">Cancel</button>
                    <button type="submit" class="btn-save-modal">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
